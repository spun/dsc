(self.webpackChunkdsc=self.webpackChunkdsc||[]).push([["twitch"],{184:(t,n,c)=>{"use strict";function o(){return commonOptions.headers["Client-ID"]}c.r(n),c.d(n,{default:()=>e});const e=async function(){const t=function(){const{pathname:t}=window.location,n=t.match(/^\/(\w+)$/);return!!n&&n[1]}();if(t){const n=o(),c=await function(t,n){const c="https://api.twitch.tv/api/channels/".concat(t,"/access_token?client_id=").concat(n,"&format=json");return fetch(c).then((t=>t.json())).then((n=>{const c=n.sig,o=encodeURIComponent(n.token);return console.log(c,o),"https://usher.ttvnw.net/api/channel/hls/".concat(t,".m3u8?sig=").concat(c,"&token=").concat(o)}))}(t,n);window.location.href=c}else{const t=function(){const t=window.location.href.match(/^.*twitch\.tv\/videos\/([0-9]+)*/);return!!t&&t[1]}();if(t){const n=o(),c=await function(t,n){const c="https://api.twitch.tv/api/vods/".concat(t,"/access_token?client_id=").concat(n,"&format=json");return fetch(c).then((t=>t.json())).then((n=>{const c=n.sig,o=encodeURIComponent(n.token);return"https://usher.ttvnw.net/vod/".concat(t,".m3u8?sig=").concat(c,"&token=").concat(o)}))}(t,n);window.location.href=c}}}}}]);