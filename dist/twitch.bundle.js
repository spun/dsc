(self.webpackChunkdsc=self.webpackChunkdsc||[]).push([["twitch"],{184:(n,t,e)=>{"use strict";function o(n,t,e,o,c,r,a){try{var i=n[r](a),s=i.value}catch(n){return void e(n)}i.done?t(s):Promise.resolve(s).then(o,c)}function c(n){return function(){var t=this,e=arguments;return new Promise((function(c,r){var a=n.apply(t,e);function i(n){o(a,c,r,i,s,"next",n)}function s(n){o(a,c,r,i,s,"throw",n)}i(void 0)}))}}function r(){return commonOptions.headers["Client-ID"]}function a(){var n=window.location.pathname.match(/^\/(\w+)$/);return!!n&&n[1]}function i(n,t){var e="https://api.twitch.tv/api/channels/".concat(n,"/access_token?client_id=").concat(t,"&format=json");return fetch(e).then((function(n){return n.json()})).then((function(t){var e=t.sig,o=encodeURIComponent(t.token);return console.log(e,o),"https://usher.ttvnw.net/api/channel/hls/".concat(n,".m3u8?sig=").concat(e,"&token=").concat(o)}))}function s(){var n=window.location.href.match(/^.*twitch\.tv\/videos\/([0-9]+)*/);return!!n&&n[1]}function u(n,t){var e="https://api.twitch.tv/api/vods/".concat(n,"/access_token?client_id=").concat(t,"&format=json");return fetch(e).then((function(n){return n.json()})).then((function(t){var e=t.sig,o=encodeURIComponent(t.token);return"https://usher.ttvnw.net/vod/".concat(n,".m3u8?sig=").concat(e,"&token=").concat(o)}))}function h(){return(h=c(regeneratorRuntime.mark((function n(){var t,e,o,c,h,f;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=a())){n.next=9;break}return e=r(),n.next=5,i(t,e);case 5:o=n.sent,window.location.href=o,n.next=16;break;case 9:if(!(c=s())){n.next=16;break}return h=r(),n.next=14,u(c,h);case 14:f=n.sent,window.location.href=f;case 16:case"end":return n.stop()}}),n)})))).apply(this,arguments)}e.r(t),e.d(t,{default:()=>f});const f=function(){return h.apply(this,arguments)}}}]);